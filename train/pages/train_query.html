<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/train_query/train_query.css">
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <title>车次预定</title>
    <style media="screen">
        body {
            min-width: 1200px;
            overflow: hidden;
            background: #fff;
        }

        .el-input {
            width: auto;
        }

        .transition-box {
            margin-bottom: 10px;
            /* width: 200px; */
            /* height: 100px; */
            border-radius: 4px;
            background-color: #fff;
            /* text-align: center; */
            color: #fff;
            padding: 8px 50px;
            box-sizing: border-box;
            /* margin-right: 20px; */
        }

        .el-checkbox-group {
            display: inline-block;
        }
    </style>

</head>

<body>
    <div class="wrap">
        <div id="train_query">
            <div id="train_search_box">
                <el-row>
                    <el-col :span="6">
                        <span class="input_title">预订人：</span>
                        <el-input placeholder="请输入内容" v-model="input1">
                        </el-input>
                    </el-col>
                    <el-col :span="6">
                        <span class="input_title">预订人：</span>
                        <el-input placeholder="请输入内容" v-model="input1">
                        </el-input>
                    </el-col>
                    <el-col :span="6">
                        <span class="input_title">预订人：</span>
                        <el-input placeholder="请输入内容" v-model="input1">
                        </el-input>
                    </el-col>
                    <el-col :span="6">
                        <el-button type="primary">查询</el-button>
                    </el-col>
                </el-row>
            </div>
            <div class="train_run">
                <div id="back">
                </div>
                <div id="all">
                    <div class="tranHand">
                        <div class="windows"></div>
                        <div class="door">
                            <div class="windows"></div>
                        </div>
                        <div class="yellow"></div>
                    </div>
                    <div class="tranBody">
                        <div class="windows"></div>
                        <div class="door">
                            <div class="windows"></div>
                        </div>
                        <div class="windows2"></div>
                        <div class="yellow"></div>
                    </div>
                    <div class="tranBody">
                        <div class="windows"></div>
                        <div class="door">
                            <div class="windows"></div>
                        </div>
                        <div class="windows2"></div>
                        <div class="yellow"></div>
                    </div>
                    <div class="tranBody">
                        <div class="windows"></div>
                        <div class="door">
                            <div class="windows"></div>
                        </div>
                        <div class="windows2"></div>
                        <div class="yellow"></div>
                    </div>
                    <div class="tranLast">
                        <div class="windows"></div>
                        <div class="door">
                            <div class="windows"></div>
                        </div>
                        <div class="yellow"></div>
                    </div>
                </div>
            </div>
            <div id="train_info" class="clearfix">
                <section class="train_info_left">
                    <section id="date_pick">
                        <div class="con_date">
                            <i class="iconfont click_l" @click="click_l">&#xeb69;</i>
                            <ul style="left:50px" id="DaysList" v-for="i in 30">
                                <li @click="click_li" day_val="2017-11-13" class="">
                                    <h4>11-13</h4>
                                    <p>星期一</p>
                                </li>
                                <!-- <li @click="click_li" day_val="2017-11-14" class="on">
                                    <h4>11-14</h4>
                                    <p>星期二</p>
                                </li>
                                <li @click="click_li" day_val="2017-11-15" class="">
                                    <h4>11-15</h4>
                                    <p>星期三</p>
                                </li>
                                <li @click="click_li" day_val="2017-11-16" class="">
                                    <h4>11-16</h4>
                                    <p>星期四</p>
                                </li>
                                <li @click="click_li" day_val="2017-11-17" class="">
                                    <h4>11-17</h4>
                                    <p>星期五</p>
                                </li>
                                <li @click="click_li" day_val="2017-11-18" class="">
                                    <h4>11-18</h4>
                                    <p>星期六</p>
                                </li>
                                <li @click="click_li" day_val="2017-11-19" class="">
                                    <h4>11-19</h4>
                                    <p>星期日</p>
                                </li>
                                <li @click="click_li" day_val="2017-11-20" class="">
                                    <h4>11-20</h4>
                                    <p>星期一</p>
                                </li>
                                <li @click="click_li" day_val="2017-11-21" class="">
                                    <h4>11-21</h4>
                                    <p>星期二</p>
                                </li>
                                <li @click="click_li" day_val="2017-11-22" class="">
                                    <h4>11-22</h4>
                                    <p>星期三</p>
                                </li>
                                <li @click="click_li" day_val="2017-11-23" class="">
                                    <h4>11-23</h4>
                                    <p>星期四</p>
                                </li>
                                <li @click="click_li" day_val="2017-11-24" class="">
                                    <h4>11-24</h4>
                                    <p>星期五</p>
                                </li>
                                <li @click="click_li" day_val="2017-11-25" class="">
                                    <h4>11-25</h4>
                                    <p>星期六</p>
                                </li>
                                <li @click="click_li" day_val="2017-11-26" class="">
                                    <h4>11-26</h4>
                                    <p>星期日</p>
                                </li>
                                <li @click="click_li" day_val="2017-11-27" class="">
                                    <h4>11-27</h4>
                                    <p>星期一</p>
                                </li>
                                <li @click="click_li" day_val="2017-11-28" class="">
                                    <h4>11-28</h4>
                                    <p>星期二</p>
                                </li>
                                <li @click="click_li" day_val="2017-11-29" class="">
                                    <h4>11-29</h4>
                                    <p>星期三</p>
                                </li>
                                <li @click="click_li" day_val="2017-11-30" class="">
                                    <h4>11-30</h4>
                                    <p>星期四</p>
                                </li>
                                <li @click="click_li" day_val="2017-12-01" class="">
                                    <h4>12-01</h4>
                                    <p>星期五</p>
                                </li>
                                <li @click="click_li" day_val="2017-12-02" class="">
                                    <h4>12-02</h4>
                                    <p>星期六</p>
                                </li>
                                <li @click="click_li" day_val="2017-12-03" class="">
                                    <h4>12-03</h4>
                                    <p>星期日</p>
                                </li>
                                <li @click="click_li" day_val="2017-12-04" class="">
                                    <h4>12-04</h4>
                                    <p>星期一</p>
                                </li>
                                <li @click="click_li" day_val="2017-12-05" class="">
                                    <h4>12-05</h4>
                                    <p>星期二</p>
                                </li>
                                <li @click="click_li" day_val="2017-12-06" class="">
                                    <h4>12-06</h4>
                                    <p>星期三</p>
                                </li>
                                <li @click="click_li" day_val="2017-12-07" class="">
                                    <h4>12-07</h4>
                                    <p>星期四</p>
                                </li>
                                <li @click="click_li" day_val="2017-12-08" class="">
                                    <h4>12-08</h4>
                                    <p>星期五</p>
                                </li>
                                <li @click="click_li" day_val="2017-12-09" class="">
                                    <h4>12-09</h4>
                                    <p>星期六</p>
                                </li>
                                <li @click="click_li" day_val="2017-12-10" class="">
                                    <h4>12-10</h4>
                                    <p>星期日</p>
                                </li>
                                <li @click="click_li" day_val="2017-12-11" class="">
                                    <h4>12-11</h4>
                                    <p>星期一</p>
                                </li>
                                <li @click="click_li" day_val="2017-12-12" class="">
                                    <h4>12-12</h4>
                                    <p>星期二</p>
                                </li> -->
                            </ul>
                            <i class="iconfont click_r" @click="click_r">&#xe605;</i>
                        </div>
                    </section>
                    <section class="train_screen">
                        <el-button @click="show3 = !show3" style="position:absolute;bottom:10px;right:10px;">更多条件</el-button>
                        <div class="transition-box">
                            <el-checkbox :indeterminate="isIndeterminate" v-model="checkAll" @change="handleCheckAllChange" :disabled="ok">全选</el-checkbox>
                            <el-checkbox-group v-model="checkedCities" @change="handleCheckedCitiesChange">
                                <el-checkbox v-for="city in cities" :label="city" :key="city">{{city}}</el-checkbox>
                            </el-checkbox-group>
                        </div>
                        <div>
                            <el-collapse-transition>
                                <div v-show="show3">
                                    <div class="transition-box">
                                        <el-checkbox :indeterminate="isIndeterminate" v-model="checkAll" @change="handleCheckAllChange" :disabled="ok">全选</el-checkbox>
                                        <el-checkbox-group v-model="checkedCities" @change="handleCheckedCitiesChange">
                                            <el-checkbox v-for="city in cities" :label="city" :key="city">{{city}}</el-checkbox>
                                        </el-checkbox-group>
                                    </div>
                                    <div class="transition-box">
                                        <el-checkbox :indeterminate="isIndeterminate" v-model="checkAll" @change="handleCheckAllChange" :disabled="ok">全选</el-checkbox>
                                        <el-checkbox-group v-model="checkedCities" @change="handleCheckedCitiesChange">
                                            <el-checkbox v-for="city in cities" :label="city" :key="city">{{city}}</el-checkbox>
                                        </el-checkbox-group>
                                    </div>
                                    <div class="transition-box">
                                        <el-checkbox :indeterminate="isIndeterminate" v-model="checkAll" @change="handleCheckAllChange" :disabled="ok">全选</el-checkbox>
                                        <el-checkbox-group v-model="checkedCities" @change="handleCheckedCitiesChange">
                                            <el-checkbox v-for="city in cities" :label="city" :key="city">{{city}}</el-checkbox>
                                        </el-checkbox-group>
                                    </div>
                                    <div class="transition-box">
                                        <el-checkbox :indeterminate="isIndeterminate" v-model="checkAll" @change="handleCheckAllChange" :disabled="ok">全选</el-checkbox>
                                        <el-checkbox-group v-model="checkedCities" @change="handleCheckedCitiesChange">
                                            <el-checkbox v-for="city in cities" :label="city" :key="city">{{city}}</el-checkbox>
                                        </el-checkbox-group>
                                    </div>
                                </div>
                            </el-collapse-transition>
                        </div>
                    </section>
                    <section id="train_lists">
                        <div class="train_lists_title clearfix">
                            <span>车次</span>
                            <span>时间</span>
                            <span>车站</span>
                            <span>运行时长</span>
                            <span>参考价</span>
                            <span> </span>
                        </div>
                        <ul v-for="list in lists">
                            <li class="clearfix">
                                <div>
                                    <p>K599</p>
                                    <p>
                                        <el-button size="mini">经停站</el-button>
                                    </p>
                                </div>
                                <div class="station_time">
                                    <p>
                                        <span class="train_dep_time">07:27</span>
                                    </p>
                                    <p>
                                        <span class="train_pass_time">13:13</span>
                                    </p>
                                    <p>
                                        <span class="train_arr_time">17:13
                                            <a href="javascript:;" style="color:skyblue">+1</a>
                                        </span>
                                    </p>
                                </div>
                                <div>
                                    <p>北京西</p>
                                    <p>广州</p>
                                </div>
                                <div>
                                    <p> </p>
                                    <p>9小时46分</p>
                                </div>
                                <div>
                                    <p>
                                        <span>硬座</span>
                                        <a href="javascript:;" style="color:#fa0;">￥251</a>
                                    </p>
                                    <p>
                                        <span>硬座</span>
                                        <a href="javascript:;" style="color:#fa0;">￥251</a>
                                    </p>
                                    <p>
                                        <span>硬座</span>
                                        <a href="javascript:;" style="color:#fa0;">￥251</a>
                                    </p>
                                </div>
                                <div class="ticket_book">
                                    <p>
                                        <span>余
                                            <mark>0</mark> 张</span>
                                        <span>
                                            <el-button size="mini" type="warning" disabled="ture">预订</el-button>
                                        </span>
                                    </p>
                                    <p>
                                        <span>余
                                            <mark>121</mark> 张</span>
                                        <span>
                                            <el-button size="mini" type="warning">预订</el-button>
                                        </span>
                                    </p>
                                    <p>
                                        <span>余
                                            <mark>22</mark> 张</span>
                                        <span>
                                            <el-button size="mini" type="warning">预订</el-button>
                                        </span>
                                    </p>
                                </div>
                            </li>
                        </ul>
                    </section>
                </section>
                <aside class="train_info_right">
                    <h3>火车票小助手提示</h3>
                    <ul>
                        <li class="clearfix">
                            <h5>线下取票</h5>
                            <p>火车站售票窗口、铁路客票代售点或车站自动售票机均可取票。取票需携带瘦小身份证件。</p>
                        </li>
                        <li class="clearfix">
                            <h5>退票说明</h5>
                            <p>未换取纸质车票，发车前3小时可以在线申请退票。已取票的乘客，如需退票，请凭购票有效证件在发车前到火车站退票窗口办理。</p>
                        </li>
                        <li class="clearfix">
                            <h5>退票费用</h5>
                            <p>无票或取消订单退款到帐时间约为 3 一 21 天，按银行规定时限原渠道返还。开车时间巧夭（不含）以上退票的，不收退票费；巧天（含）以内 48 小时以上的按票价 5 ％计； 24 小时以上、不足
                                48 小时的按票价 10 ％计；不足 24 小时的按票价 20 ％计。并按照最低 2 元污划女取退票费。如果改签后乘车日期在春运期间收取 20 ％的退票费。最终退款以铁路局实退为准。</p>
                        </li>
                        <li class="clearfix">
                            <h5>车票改签</h5>
                            <p>暂不提供改签服务，需携带购票有效证件原件和火车票，在火车发车前，前去始发地火车站窗口，按照铁路局相关规定办理。</p>
                        </li>
                    </ul>
                </aside>
            </div>

        </div>

    </div>
    <script type="text/javascript" src="../js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="../js/moment.js"></script>
    <!-- 引入 Vue -->
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script type="text/javascript">
    moment().format();
        // function filter_search() {
        //     var data = {};
        //     data.FromCode = $("#" + 'ctl00_ContentPlaceHolder1_title_fromCode').val();
        //     data.ToCode = $("#" + 'ctl00_ContentPlaceHolder1_title_toCode').val();
        //     data.trainType = $("#Train_type .filter_option.on").attr("filter_val");
        //     data.FilterStartTime = $("#from_time .filter_option.on").attr("filter_val");
        //     data.FilterArriveTime = $("#to_time .filter_option.on").attr("filter_val");

        //     data.Time = $("#DaysList li.on").attr("day_val");
        //     // var url = "ajaxFile/TrainsHelper.ashx";
        //     data.action = "TrainsList";
        //     $("#" + 'ctl00_ContentPlaceHolder1_TrainsListBox').html("");
        //     $("#hotel_list_login").show();
        //     // console.log(data);
        //     $.ajax(url, {
        //         type: "post",
        //         async: true,
        //         data: data,
        //         success: function (data) {
        //             $("#" + 'ctl00_ContentPlaceHolder1_TrainsListBox').html(data);
        //             $("#hotel_list_login").hide();
        //             $(".con_datas .con_data").hover(function () {
        //                 $(this).addClass("on")
        //                 $(this).find(".fromtime").animate({
        //                     "font-size": "30px"
        //                 }, 150);
        //             }, function () {
        //                 $(this).removeClass("on")
        //                 $(this).find(".fromtime").animate({
        //                     "font-size": "25px"
        //                 }, 150);
        //             })
        //         },
        //         error: function (XMLHttpRequest, textStatus, errorThrown) {
        //             $("#hotel_list_login").hide();
        //         }
        //     });
        // }




        // $("#DaysList li").on("click", function () {
            
        // })
        // $(".con_date .click_l").on("click", function () {
        //     var left = parseInt($("#DaysList").css("left").replace("px", ""));
        //     left = (left + 700) < 50 ? (left + 700) : 50;
        //     console.log(left);
        //     $("#DaysList").animate({
        //         "left": left + "px"
        //     }, 200);
        // })
        // $(".con_date .click_r").on("click", function () {
        //     var left = parseInt($("#DaysList").css("left").replace("px", ""));
        //     left = (left - 700) > -2250 ? (left - 700) : -2250;
        //     console.log(left);
        //     $("#DaysList").animate({
        //         "left": left + "px"
        //     }, 200);
        // })
        const trainType = ['G 高铁 / D 动车 / C 城际', '快车（Z / T / K）', 'L临客 / 普快'];
        var train_query = {
            data() {
                return {
                    // 
                    ok: false,
                    checkAll: true,
                    checkedCities: [],
                    cities: trainType,
                    isIndeterminate: false,
                    nowDate: '2017-11-27',
                    dates: '',
                    // 
                    show3: false,
                    input1: '',
                    input2: '',
                    input3: '',
                    input4: '',
                    input5: '',
                    input6: '',
                    lists: [{
                            name: '12',
                            age: '23'
                        },
                        {
                            name: '112',
                            age: '43'
                        },
                        {
                            name: '11112',
                            age: '13'
                        },
                        {
                            name: '12333',
                            age: '83'
                        }
                    ]
                }
            },
            methods: {
                date() {
                    let allDate = [];
                    
                    for (let index = 0; index < 30; index++) {
                       
                    }
                },
                handleCheckAllChange(val) {

                    this.checkedCities = val ? [] : [];
                    this.isIndeterminate = false
                    if (this.checkAll) {
                        this.ok = true
                    }

                },
                handleCheckedCitiesChange(value) {
                    let checkedCount = value.length;
                    this.checkAll = false
                    if (checkedCount == 0) {
                        this.checkAll = true;
                        this.ok = true
                    } else {
                        this.ok = false
                    }
                    this.isIndeterminate = false;
                },
                filter_search() {
                    var data = {};
                    data.FromCode = $("#" + 'ctl00_ContentPlaceHolder1_title_fromCode').val();
                    data.ToCode = $("#" + 'ctl00_ContentPlaceHolder1_title_toCode').val();
                    data.trainType = $("#Train_type .filter_option.on").attr("filter_val");
                    data.FilterStartTime = $("#from_time .filter_option.on").attr("filter_val");
                    data.FilterArriveTime = $("#to_time .filter_option.on").attr("filter_val");

                    data.Time = $("#DaysList li.on").attr("day_val");
                    // var url = "ajaxFile/TrainsHelper.ashx";
                    data.action = "TrainsList";
                    $("#" + 'ctl00_ContentPlaceHolder1_TrainsListBox').html("");
                    $("#hotel_list_login").show();
                    // console.log(data);
                    $.ajax(url, {
                        type: "post",
                        async: true,
                        data: data,
                        success: function (data) {
                            $("#" + 'ctl00_ContentPlaceHolder1_TrainsListBox').html(data);
                            $("#hotel_list_login").hide();
                            $(".con_datas .con_data").hover(function () {
                                $(this).addClass("on")
                                $(this).find(".fromtime").animate({
                                    "font-size": "30px"
                                }, 150);
                            }, function () {
                                $(this).removeClass("on")
                                $(this).find(".fromtime").animate({
                                    "font-size": "25px"
                                }, 150);
                            })
                        },
                        error: function (XMLHttpRequest, textStatus, errorThrown) {
                            $("#hotel_list_login").hide();
                        }
                    });
                },
                click_li() {
                    if (!$(this).hasClass("on")) {
                        $(this).addClass("on").siblings().removeClass("on");
                    }
                    var on_index = $("#DaysList li.on").index();
                    var from = (on_index - 3) <= 0 ? 0 : (on_index - 3);
                    from = from > 23 ? 23 : from;
                    $("#DaysList").animate({
                        "left": -((from * 100) - 50) + "px"
                    }, 200);
                    this.filter_search();
                },
                click_l() {
                    var left = parseInt($("#DaysList").css("left").replace("px", ""));
                    left = (left + 700) < 50 ? (left + 700) : 50;
                    console.log(left);
                    $("#DaysList").animate({
                        "left": left + "px"
                    }, 200);
                },
                click_r() {
                    var left = parseInt($("#DaysList").css("left").replace("px", ""));
                    left = (left - 700) > -2250 ? (left - 700) : -2250;
                    console.log(left);
                    $("#DaysList").animate({
                        "left": left + "px"
                    }, 200);
                }
            }
        }
        var Ctor = Vue.extend(train_query)
        new Ctor().$mount('#train_query')

        // var train_lists = {
        //     data() {
        //         return {
        //             lists: [{
        //                     name: '12',
        //                     age: '23'
        //                 },
        //                 {
        //                     name: '112',
        //                     age: '43'
        //                 },
        //                 {
        //                     name: '11112',
        //                     age: '13'
        //                 },
        //                 {
        //                     name: '12333',
        //                     age: '83'
        //                 }
        //             ]
        //         }
        //     }
        // }
        // var Ctor = Vue.extend(train_lists)
        // new Ctor().$mount('#train_lists')
    </script>
</body>

</html>